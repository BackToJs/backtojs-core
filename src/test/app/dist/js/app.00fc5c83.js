!function(e){var n={};function t(o){if(n[o])return n[o].exports;var a=n[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,t),a.l=!0,a.exports}t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var a in e)t.d(o,a,function(n){return e[n]}.bind(null,a));return o},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=0)}([function(e,n,t){(function(e){function n(e,n){var t;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=function(e,n){if(!e)return;if("string"==typeof e)return o(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return o(e,n)}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,d=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return l=e.done,e},e:function(e){d=!0,i=e},f:function(){try{l||null==t.return||t.return()}finally{if(d)throw i}}}}function o(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=new Array(n);t<n;t++)o[t]=e[t];return o}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(){}function i(){}function l(){var o=this;o.dependecyContext={},o.metaContext={},o.actionsByFragmentUrlRoute={},o.registerDependenciesInContext=function(){var e=t(2);o.dependecyContext.onLoadAction=new e},o.performInjection=function(){o.dependecyContext.onLoadAction._ls_name="onLoadAction"},o.registerDependenciesByUrlFragment=function(){o.actionsByFragmentUrlRoute.onLoadAction=o.dependecyContext.onLoadAction},o.registerMetadataByDependency=function(){o.metaContext.onLoadAction={variables:{},functions:{}}},o.start=function(n){e.LinkStartOptions=n,o.registerDependenciesInContext(),o.performInjection(),o.registerMetadataByDependency(),o.registerDependenciesByUrlFragment(),o.defaultFragmentUrlRoute&&o.actionsByFragmentUrlRoute[o.defaultFragmentUrlRoute]?(r.debug("default action detected: "+o.defaultFragmentUrlRoute),o.invokeActionByFragmentUrl(o.defaultFragmentUrlRoute)):r.debug("There are not any @Action defined as entrypoint")},o.invokeActionByFragmentUrl=function(e){r.debug("triggering action by route: ".concat(e));var n=o.actionsByFragmentUrlRoute[e];(r.debug("ls_name: ".concat(n._ls_name)),void 0!==n)?void 0!==n.onLoad&&"function"==typeof n.onLoad?o.isFunctionAnnotatedWith(o.metaContext[n._ls_name],"onLoad","Async")?(r.debug("onLoad is Async"),n.onLoad((function(){o.performRender(n)}))):(r.debug("onLoad is not Async"),n.onLoad(),o.performRender(n)):(r.debug("Action does not have onLoad() method"),o.performRender(n)):r.debug("route ".concat(e," has a wrong or undefined action"))},o.performRender=function(e){var n=!1;if(void 0!==e.render&&"function"==typeof e.render){var t=e.render(),a=document.createRange().createContextualFragment(t);document.getElementById("root").innerHTML="",document.getElementById("root").appendChild(a)}else{if(void 0===e._ls_name||null==e._ls_name)return void r.debug("Something is wrong with this action. _ls_name is undefined");if(void 0===o.metaContext[e._ls_name]||null==o.metaContext[e._ls_name])return void r.debug("Something is wrong with this action. there is not exist in metaContext");var i=o.searchOneVariableByAnnotationName(o.metaContext[e._ls_name].variables,e._ls_name,"Render");if(void 0===i||null==i)return void r.debug(e._ls_name+" action does not have render() method nor @Render annotation");var l,d=i.name;if(void 0===d||null==d)return void r.debug(e._ls_name+" action does not have render() method nor @Render annotation");l=void 0===i.meta||void 0===i.meta.arguments||void 0===i.meta.arguments.id?"root":i.meta.arguments.id;a=document.createRange().createContextualFragment(e[d].getHtml());document.getElementById(l).innerHTML="",document.getElementById(l).appendChild(a),n=!0}o.applyActionListenersAutoBinding(o.metaContext[e._ls_name].functions,e,!0===n?e[d].getDomElements():null),o.applyDomElemensAutoBinding(e,e[d],o.metaContext[e._ls_name].variables),o.bindDomElementAllForOne(e,d,o.metaContext[e._ls_name].variables)},o.locationHashChanged=function(){r.debug("new hash fragment in url: ".concat(location.hash));var e=location.hash.replace("#","");if(!o.actionsByFragmentUrlRoute[e]){var n="There are not any @DefaultAction asociated to this route: "+e;return r.debug(n),document.getElementById("root").innerHTML="",void document.getElementById("root").appendChild(n)}o.invokeActionByFragmentUrl(e)},o.searchOneVariableByAnnotationName=function(e,n,t){var o,a=0;for(var i in e)for(var l in e[i]){e[i][l].name==t&&(a++,o={name:i,meta:e[i][l]})}if(0!=a){if(!(a>1))return o;r.debug(n+" action has more than one @Render annotation. Just one is allowed.")}else r.debug(n+" action does not have any @Render annotation")},o.applyActionListenersAutoBinding=function(e,n,t){for(var a in r.debug("applying actionListeners auto binding for this action: "+n._ls_name),e)for(var i in e[a]){var l=e[a][i];if("ActionListener"==l.name&&void 0!==n[a]&&"function"==typeof n[a]){r.debug("actionListener to be binded was found: "+a);var d,u=n[a],c=(l.arguments.tagId,l.arguments.type),s=o.searchLinkStartIdInRegisteredDomElements(t,l.arguments.tagId);void 0===s?(r.debug("lsId for this actionListener ".concat(l.arguments.tagId," is undefined. Did you register the dom element with ls-element=true ?")),r.debug("".concat(l.arguments.tagId," will be searched directly in html dom")),d=document.getElementById(l.arguments.tagId)):d=o.getElementByLsId(s),r.debug("actionListener object:"+d),void 0!==d&&null!=d?"onclick"===c?d.onclick=u:r.debug("type function not implemented yet: "+c):r.debug("ActionListener with html tag id: ".concat(l.arguments.tagId," was not found in html dom"))}}},o.applyDomElemensAutoBinding=function(e,n,t){r.debug("apply dom elements auto binding for this action: "+e._ls_name),o.searchVariablesAnnotatedWith(t,"HtmlElement").forEach((function(t,a){var i=t.annotationArguments.id;if("undefined"!=typeof elementDomId){r.debug("Searching ".concat(i," html element"));var l=o.getElementInPageRegisteredElements(n,i,t.variableName);void 0!==l?e[t.variableName]=l:(r.debug("Html element with id ".concat(i," was not found in LinkStart page registered elements")),void 0!==(l=document.getElementById(i))?e[t.variableName]=l:r.debug("Html element with id ".concat(i," was not found in LinkStart page registered element nor html dom elements")))}else r.debug("variable ".concat(t.variableName," annotated with @DomElement does no have [id] argument"))}))},o.bindDomElementAllForOne=function(e,n,t){if(void 0!==n&&null!=n){var a=e[n],i=(a.getDomElements(),o.searchVariablesAnnotatedWith(t,"HtmlElementsAllForOne"));if(0!=i.length)if(i.length>1)r.debug("".concat(e._ls_name," has more than one @HtmlElementsAllForOne. Just one is allowed"));else{var l=i[0].variableName;void 0===l&&r.debug("HtmlElementsAllForOne annotation was found but, is not possible to determine the related action variable"),e[l]=o.applyHtmlElementsToSingleVariableBinding(a)}}},o.applyHtmlElementsToSingleVariableBinding=function(e){var n={},t=e.getDomElements();if(void 0!==t&&0!=t.length)return t.forEach((function(e){var t=e.tagId,a=e.lsId;if(t&&a){var i=o.getElementByLsId(a);if("INPUT"===i.tagName){if(i.addEventListener("change",(function(e){"text"===i.type?n[t]=e.target.value:"radio"===i.type?n[i.name]=e.target.value:"checkbox"===i.type&&(!0===i.checked?n[t]=!0:n[t]=!1)})),"text"===i.type)n[t]=i.value;else if("radio"===i.type){var l=o.getDefaultRadioValue(i);void 0!==l&&(n[i.name]=l)}else if("checkbox"===i.type){var d=o.getDefaultCheckboxValue(i);n[t]=d}}else"SELECT"===i.tagName?(i.addEventListener("change",(function(e){n[t]=e.target.value})),n[t]=o.getDefaultSelectValue(i)):r.debug("Model binding is not implemented yet for this tag:"+i.tagName)}})),n},o.searchVariablesAnnotatedWith=function(e,n){var t=[];for(var o in e)for(var a in e[o]){var r=e[o][a];r.name==n&&t.push({variableName:o,annotationArguments:r.arguments})}return t},o.isFunctionAnnotatedWith=function(e,n,t){var o=e.functions;if(void 0===o[n])return r.debug("".concat(n," function does not exist in this action as annotated function")),!1;for(var a in o[n]){if(o[n][a].name===t)return r.debug("is async!"),!0}},o.searchLinkStartIdInRegisteredDomElements=function(e,n){for(var t in e)if(void 0!==e[t]&&void 0!==e[t].tagId&&e[t].tagId==n)return e[t].lsId},o.getElementByLsId=function(e){var n=document.querySelectorAll('[ls-id="'+e+'"]');if(0==n.length)r.debug("There are not any element with lsId:"+e);else{if(1==n.length)return n[0];r.debug("There are more than one element with this lsId:"+e)}},o.getElementInPageRegisteredElements=function(e,t,a){var r,i,l=n(e.getDomElements());try{for(l.s();!(i=l.n()).done;){var d=i.value,u=d.tagId,c=d.lsId;if(u&&c&&u===t){r=o.getElementByLsId(c);break}}}catch(e){l.e(e)}finally{l.f()}return r},o.getDefaultRadioValue=function(e){if(!0===e.checked)return e.value},o.getDefaultCheckboxValue=function(e){return!0===e.checked},o.getDefaultSelectValue=function(e){for(var n=e.options,t=0;t<n.length;t++){if(n[t].selected)return n[t].value}},window.onhashchange=o.locationHashChanged,o.defaultFragmentUrlRoute="onLoadAction"}var d;r.debug=function(e){"undefined"!=typeof LinkStartOptions&&void 0!==LinkStartOptions.logLevel&&"debug"===LinkStartOptions.logLevel&&("object"===a(e)?console.log(JSON.stringify(e,null,4)):console.log(e))},r.info=function(e){"undefined"!=typeof LinkStartOptions&&void 0!==LinkStartOptions.logLevel&&"debug"===LinkStartOptions.logLevel?console.log(JSON.stringify(e,null,4)):console.log(e)},i.goTo=function(e){window.location.href="#".concat(e)},e.LinkStartRoute=i,d={logLevel:"debug",webpackMinimize:!0},(new l).start(d)}).call(this,t(1))},function(e,n){var t;t=function(){return this}();try{t=t||new Function("return this")()}catch(e){"object"==typeof window&&(t=window)}e.exports=t},function(e,n){e.exports=function(){var e=this;this.message,this.onLoad=function(){console.log("I'm the onLoad"),e.message="I'm the onLoad"},this.render=function(){return e.message}}}]);
//# sourceMappingURL=app.00fc5c83.js.map